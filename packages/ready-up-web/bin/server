#!/usr/bin/env node

const LocalWebServer = require('local-web-server')
const localWebServer = new LocalWebServer()
const server = localWebServer.listen({
  port: 8000,
  directory: '.',
  spa: 'index.html',
  https: true,
  cert: process.env.READY_UP_SSL_CERT_PATH,
  key: process.env.READY_UP_SSL_KEY_PATH
})
// secure, SPA server with listening websocket now ready on port 8000

process.on('SIGINT', () => {
  // Stop listening when/if server is no longer needed
  server.close()
})
